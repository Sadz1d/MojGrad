<div class="auth-card">
  <h2>Zaboravili ste lozinku?</h2>
  <p class="subtitle">
    Unesite email adresu povezanu sa vašim nalogom
  </p>

  <!-- FORM -->
  <form
    *ngIf="!isEmailSent"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    novalidate
  >
    <div class="form-group">
      <input
        type="email"
        formControlName="email"
        placeholder="Email adresa"
        [class.invalid]="form.controls.email.invalid && form.controls.email.touched"
      />

      <span class="error" *ngIf="form.controls.email.touched && form.controls.email.invalid">
        Unesite ispravnu email adresu
      </span>
    </div>

    <button type="submit" [disabled]="form.invalid || isLoading">
      <span *ngIf="!isLoading">Pošalji link</span>
      <span *ngIf="isLoading">Slanje...</span>
    </button>

    <div class="error global-error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
  </form>

  <!-- SUCCESS -->
  <div class="success-box" *ngIf="isEmailSent">
    <p class="success-text">
      {{ successMessage }}
    </p>

    <button class="secondary" (click)="resendEmail()" [disabled]="isLoading">
      Pošalji ponovo
    </button>
  </div>

  <a routerLink="/auth/login" class="back-link">
    ← Nazad na prijavu
  </a>
</div>

