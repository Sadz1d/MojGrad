<!-- ================= HEADER / NAVIGATION ================= -->
<header class="app-header">
  <div class="header-left">
    <img src="assets/images/logo1.png" class="header-logo" />
    <span class="header-title">Moj Grad</span>
  </div>
  <nav class="header-nav">
    <a routerLink="/dashboard" routerLinkActive="active">PoÄetna</a>
    <a routerLink="/profile" routerLinkActive="active">Moj profil</a>
    <a routerLink="/volunteering" routerLinkActive="active">Volontiranje</a>
    <a routerLink="/surveys" routerLinkActive="active">Ankete</a>
    <a routerLink="/points" routerLinkActive="active">Bodovi / Rang lista</a>
    <a routerLink="/support" routerLinkActive="active">PodrÅ¡ka</a>
  </nav>

  <div class="header-right">
    <span class="header-user">{{ currentUser?.email }}</span>
    <button
      mat-stroked-button
      routerLink="/auth/logout"
          routerLinkActive="active"
      color="warn"
      (click)="logout()"
      class="header-logout"
    >
      Odjava
    </button>
  </div>
</header>
<!-- ================= END HEADER ================= -->


<div class="landing-page">

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <div class="logo-container">
          <img src="assets/images/logo1.png" alt="Logo" class="logo-icon" />
          <h1 class="brand-name">Moj Grad</h1>
        </div>
        <h2 class="hero-title">DobrodoÅ¡li u Moj Grad</h2>
        <p class="hero-description">
          Prijavite problem, pomozite svojim sugraÄ‘anima i unaprijedite naÅ¡ grad.
        </p>
        <div class="hero-actions">
          <input type="text" placeholder="Prijavite problem i pomozite svom gradu" class="search-input" />
          <button mat-raised-button color="primary" class="cta-button">
            <img src="assets/images/search.png" alt="Search" class="button-icon" />
          </button>
          <button mat-raised-button color="accent" routerLink="problem-reports/new" class="cta-button report-button">
            Prijavite problem
          </button>
        </div>
      </div>
      <div class="hero-image">
        <!--<img src="assets/images/pocetna_slika.png" alt="Grad ilustracija" />-->
      </div>
    </div>
  </section>

  <!-- Prijavljeni Problemi Section -->
  <section class="features-section">

    <div class="section-header">
      <div class="title-badge">PROBLEMI U VAÅ EM OKRUÅ½ENJU</div>

      <h2 class="section-title">Prijavljeni problemi</h2>

      <p class="section-subtitle">
        Pregled najnovijih problema prijavljenih u gradu.
      </p>
    </div>


    <div class="features-grid">

      <!-- KARTICA 1 -->
      <div class="problem-card">
        <div class="image-wrapper">
          <img src="assets/images/grass.jpg">
          <span class="status-badge status-new">NOVO</span>
        </div>

        <div class="problem-content">
          <h3>NepokoÅ¡ena trava u parku</h3>

          <div class="meta">
            <span class="category">ğŸŒ³ Parkovi</span>
            <span class="date">ğŸ“… Danas</span>
          </div>

          <p>Trava u gradskom parku nije pokoÅ¡ena nekoliko sedmica.</p>
          <div class="location">ğŸ“ Park Zrinjevac</div>
        </div>
      </div>

      <!-- KARTICA 2 -->
      <div class="problem-card">
        <div class="image-wrapper">
          <img src="assets/images/light.jpg">
          <span class="status-badge status-progress">U TOKU</span>
        </div>

        <div class="problem-content">
          <h3>Polomljena rasvjeta</h3>

          <div class="meta">
            <span class="category">ğŸš§ Infrastruktura</span>
            <span class="date">ğŸ“… JuÄer</span>
          </div>

          <p>OÅ¡teÄ‡ena rasvjeta na ulazu u centar grada.</p>
          <div class="location">ğŸ“ Splitska ulica</div>
        </div>
      </div>

      <!-- KARTICA 3 -->
      <div class="problem-card">
        <div class="image-wrapper">
          <img src="assets/images/semafor.jpg">
          <span class="status-badge status-done">RIJEÅ ENO</span>
        </div>

        <div class="problem-content">
          <h3>Neispravan semafor</h3>

          <div class="meta">
            <span class="category">ğŸš¦ SaobraÄ‡aj</span>
            <span class="date">ğŸ“… Prije 2 dana</span>
          </div>

          <p>Semafor na glavnoj raskrsnici ne radi i stvara guÅ¾ve.</p>
          <div class="location">ğŸ“ Raskrsnica Avenija</div>
        </div>
      </div>

      <!-- KARTICA 4 -->
      <div class="problem-card">
        <div class="image-wrapper">
          <img src="assets/images/park1.jpg">
          <span class="status-badge status-new">NOVO</span>
        </div>

        <div class="problem-content">
          <h3>OÅ¡teÄ‡eno djeÄje igraliÅ¡te</h3>

          <div class="meta">
            <span class="category">ğŸ› Infrastruktura</span>
            <span class="date">ğŸ“… Danas</span>
          </div>

          <p>Slomljena ograda i oÅ¡teÄ‡ene sprave na igraliÅ¡tu.</p>
          <div class="location">ğŸ“ IgraliÅ¡te Centar</div>
        </div>
      </div>

    </div>

    <div class="section-footer">
      <button mat-raised-button class="view-all-button" routerLink="/problem-reports">
        Pogledajte sve probleme
      </button>
    </div>
  </section>
  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="section-header">
      <span class="title-badge">ISKUSTVA GRAÄANA</span>
      <h2 class="section-title">Å ta kaÅ¾u korisnici?</h2>
      <p class="section-subtitle">Pogledajte utiske graÄ‘ana koji koriste aplikaciju Moj Grad.</p>
    </div>

    <div class="testimonials-grid">

      <!-- TESTIMONIAL 1 -->
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="comment">â€œAplikacija mi je spasila dan kad se pokvario semafor.â€</p>
        <div class="user-info">
          <img src="assets/images/lejla.jpg" alt="User" />
          <div>
            <h4>Lejla</h4>
            <span>Mostar</span>
          </div>
        </div>
      </div>

      <!-- TESTIMONIAL 2 -->
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="comment">â€œPrijavila sam problem sa rasvjetom i rijeÅ¡eno je u roku 24h!â€</p>
        <div class="user-info">
          <img src="assets/images/amar.jpg" alt="User" />
          <div>
            <h4>Amar</h4>
            <span>Stolac</span>
          </div>
        </div>
      </div>

      <!-- TESTIMONIAL 3 -->
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="comment">â€œSvaka Äast! KonaÄno aplikacija koja olakÅ¡ava Å¾ivot graÄ‘anima.â€</p>
        <div class="user-info">
          <img src="assets/images/ana.jpg" alt="User" />
          <div>
            <h4>Ana</h4>
            <span>ÄŒapljina</span>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works">
    <div class="section-header">
      <span class="title-badge">KAKO FUNKCIONIÅ E</span>
      <h2 class="section-title">Kako funkcioniÅ¡e aplikacija Moj Grad?</h2>
      <p class="section-subtitle">Samo tri jednostavna koraka do rjeÅ¡enja problema u vaÅ¡em gradu.</p>
    </div>

    <div class="steps-grid">

      <!-- STEP 1 -->
      <div class="step-card">
        <div class="step-icon">ğŸ“</div>
        <h3>1. Prijavite problem</h3>
        <p>FotografiÅ¡ite i prijavite problem u par klikova. Lokacija se automatski prepoznaje.</p>
      </div>

      <!-- STEP 2 -->
      <div class="step-card">
        <div class="step-icon">âš™ï¸</div>
        <h3>2. NadleÅ¾ni pregledaju i reagiraju</h3>
        <p>VaÅ¡a prijava se prosljeÄ‘uje odgovornim sluÅ¾bama koje zapoÄinju proces rjeÅ¡avanja.</p>
      </div>

      <!-- STEP 3 -->
      <div class="step-card">
        <div class="step-icon">âœ…</div>
        <h3>3. Pratite status</h3>
        <p>Budite obavijeÅ¡teni o svakom koraku â€“ od zaprimanja prijave do potpunog rjeÅ¡avanja.</p>
      </div>

    </div>
  </section>


  <!-- Stats / Floating Cards Section -->
  <section class="stats-section">
    <div class="stats-grid">
      <div class="stat-card">
        <img src="assets/images/stat_users.png" alt="Aktivni korisnici" />
        <div class="stat-number">500+</div>
        <div class="stat-label">Aktivnih korisnika</div>
      </div>
      <div class="stat-card">
        <img src="assets/images/stat_products.png" alt="Proizvodi" />
        <div class="stat-number">10,000+</div>
        <div class="stat-label">RijeÅ¡enih problema</div>
      </div>
      <div class="stat-card">
        <img src="assets/images/stat_uptime.png" alt="Uptime" />
        <div class="stat-number">99.9%</div>
        <div class="stat-label">Uptime garancija</div>
      </div>
      <div class="stat-card">
        <img src="assets/images/stat_rating.png" alt="ProsjeÄna ocjena" />
        <div class="stat-number">4.5/5</div>
        <div class="stat-label">ProsjeÄna ocjena</div>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <div class="cta-box">

      <h2>Prijavite problem i unaprijedite svoj grad</h2>
      <p>Pomozite svojim sugraÄ‘anima i uÄestvujte u izgradnji boljeg okruÅ¾enja.</p>
<!-- DINAMIÄŒKO DUGME -->
      <div *ngIf="isLoggedIn$ | async; else loginButton">
        <!-- Korisnik je PRIJAVLJEN - prikaÅ¾i ODJAVITE SE <a mat-list-item routerLink="/auth/logout" routerLinkActive="active" class="logout-item">
        <mat-icon matListItemIcon>logout</mat-icon>
        <span matListItemTitle>{{ 'ADMIN_PANEL.MENU.LOGOUT' | translate }}</span>
      </a> -->
        <button
          mat-raised-button
          routerLink="/auth/logout"
          routerLinkActive="active"
          color="warn"
          (click)="logout()"
          class="cta-main-button logout-button"
        >
          <mat-icon class="button-icon">logout</mat-icon>
          Odjavite se
          <span *ngIf="currentUser?.email as email" class="user-email">
            ({{ email }})
          </span>
        </button>

        <!-- Dodatni link za dashboard -->
        <div style="margin-top: 20px;">
          <button
            mat-stroked-button
            color="primary"
            routerLink="/dashboard"
            class="dashboard-button"
          >
            <mat-icon>dashboard</mat-icon>
            Moj Dashboard
          </button>
        </div>
      </div>

      <ng-template #loginButton>
        <!-- Korisnik NIJE prijavljen - prikaÅ¾i PRIJAVITE SE -->
        <button
          mat-raised-button
          color="primary"
          routerLink="/auth/login"
          class="cta-main-button login-button"
        >
          <mat-icon class="button-icon">login</mat-icon>
          Prijavite se sada
        </button>

        <!-- Dodatni link za registraciju -->
        <div style="margin-top: 20px;">
          <button
            mat-stroked-button
            color="accent"
            routerLink="/auth/register"
            class="register-button"
          >
            <mat-icon>person_add</mat-icon>
            Registrujte se
          </button>
        </div>
      </ng-template>

    </div>

  </section>
</div>
